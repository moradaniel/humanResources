<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
       "-//Hibernate/Hibernate Mapping DTD//EN"
       "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>

	
  <class name="org.dpi.empleo.EmpleoImpl"    table="EMPLEO">

    <id name="id" column="ID" type="long">  
          <generator class="sequence">   
				<param name="sequence">EMPLEO_SEQ</param>
          </generator>  
        </id> 
        
	<property name="fechaInicio" column="FECHAINICIO" type="timestamp"/> 
	<property name="fechaFin" column="FECHAFIN" type="timestamp"/>

	<property name="estado" column="ESTADO" type="org.dpi.persistence.EmploymentStatusEnumUserType"/>
   
	<many-to-one 
		name="person"
		class="org.dpi.person.PersonImpl"
 		column="PERSONID" 
		foreign-key="fk_Empleo_Person"
		not-null="true"/>
		
	<many-to-one 
		name="centroSector"
		class="org.dpi.centroSector.CentroSectorImpl"
 		column="CENTROSECTORID" 
		foreign-key="fk_Empleo_CentroSector"
		not-null="true"/>

	<many-to-one 
		name="category"
		class="org.dpi.category.CategoryImpl"
 		column="CATEGORYID" 
		foreign-key="fk_Empleo_Category"
		not-null="true"/>
		
	<!-- one-to-one name="movimientoCreditos" 
				class="org.dpi.movimientoCreditos.MovimientoCreditosImpl" 
				property-ref="empleo"
				cascade="save-update">
	</one-to-one --> 
	
	    <!-- this association is bidirectional
    	movimientocreditos side is marked as inverse="true" so the owner of the relation is Empleo-->
    <set name="movimientosCreditos" cascade="all" lazy="true" inverse="true">
		<key column="EMPLEOID" foreign-key="fk_MovimientoCreditos_Empleo"/>
		<one-to-many class="org.dpi.movimientoCreditos.MovimientoCreditosImpl"/>
	</set>
	
	<many-to-one 
		name="empleoAnterior"
		class="org.dpi.empleo.EmpleoImpl"
 		column="EMPLEO_ANTERIOR_ID" 
		foreign-key="fk_Empleo_Empleo_Anterior"
		not-null="false"/>
		
	<many-to-one 
		name="occupationalGroup"
		class="org.dpi.occupationalGroup.OccupationalGroupImpl"
 		column="OCCUPATIONAL_GROUP_ID" 
		foreign-key="fk_Employment_OccupationalGroup"
		not-null="true"/>
		
  </class>
</hibernate-mapping>